from telethon.sync import TelegramClient
from telethon.tl.functions.messages import GetDialogsRequest
from telethon.tl.types import InputPeerEmpty
from telethon.tl.functions.messages import GetInlineBotResultsRequest
from telethon import TelegramClient, events
from telethon import TelegramClient, events, sync
import colorama
from colorama import Fore, Back, Style
from random import randint
from time import sleep
import csv
colorama.init(autoreset=True)
api_id = '17691195'
api_hash = '5dc315d015c6b7907cf682756d7b6a4a'
phone = '+6287879012524'
client = TelegramClient(phone, api_id, api_hash)

client.connect()
if not client.is_user_authorized():
    client.send_code_request(phone)
    client.sign_in(phone, input('Enter the code: '))



chats = []
last_date = None
chunk_size = 200
groups=[]
bot = []
i=0
channel = "19375432"
# get all channels
channel_username = 'DataSaham2Bot'# your channel
groupUsername = "JOSS ALERT"# your group
print(Fore.LIGHTGREEN_EX + '[+] ' + Fore.RESET + 'pilih text midnight atau night: ', end="")
text = input("")
# message = []
# for message in client.get_messages(channel_username, limit=1):
#     # get last message text
#     message = message.message
pesanMid = """ğŸ“¹ğ‘ºğ‘ªğ‘¹ğ‘°ğ‘´ ğ‘³ğ‘°ğ‘½ğ‘¬ ğ‘¹ğ‘´ ğŸ¯ â€¢
ğŸ“¹ğ‘ºğ‘ªğ‘¹ğ‘°ğ‘´ ğ‘³ğ‘°ğ‘½ğ‘¬ ğ‘¹ğ‘´ ğŸ¯ â€¢


â€¼ï¸ğŸ± ğ‘ºğ‘³ğ‘¶ğ‘» ğ‘³ğ‘¬ğ‘­ğ‘»(ğ‘´ğ‘°ğ‘«ğ‘µğ‘°ğ‘®ğ‘¯ğ‘»)â€¼ï¸

â€¼ï¸ğŸ± ğ‘ºğ‘³ğ‘¶ğ‘» ğ‘³ğ‘¬ğ‘­ğ‘»(ğ‘´ğ‘°ğ‘«ğ‘µğ‘°ğ‘®ğ‘¯ğ‘»)â€¼ï¸


        ğŸ¥ ğŸ”¥ğ€ğƒğ€ ğ‹ğˆğ•ğ„ğŸ”¥ğŸ¥
             (ğƒğ„ğ‹ğ€ğ˜ ğŸ ğŒğˆğğˆğ“) 

à¿”âŠ°â”â”â”â”â”à¼ºâ¦à¼»â”â”â”â”â”âŠ±à¿” 
        ğŒğˆğƒğğˆğ†ğ‡ğ“ ğ‹ğˆğ•ğ„ ğ’ğ‚ğ‘ğˆğŒ 
             ğğ˜ ğ‡ğ€ğ‡ğ€ ğ„ğ’ğğğ‘ğ“
à¿”âŠ°â”â”â”â”â”à¼ºâ¦à¼»â”â”â”â”â”âŠ±à¿”
       
      ğŸ˜± ğ“ğğğŸ¥‡ğŸ¥ˆğˆğğ•ğˆğ“ğ„ğƒ 
                ğğ„ğ—ğ“ ğ’ğ‚ğ‘ğˆğŒğŸ˜±


ğŸ¥ğŸ„»ğŸ„¸ğŸ……ğŸ„´ ğŸ„¸ğŸ„½ ğŸ„µğŸ„°ğŸ„²ğŸ„´ğŸ„±ğŸ„¾ğŸ„¾ğŸ„ºğŸ¥

     
ğŸ—“ğ‡ğ€ğ‘ğˆ : ğ™†ğ™ƒğ˜¼ğ™ˆğ™„ğ™
ğŸ—“ğ“ğ€ğ‘ğˆğŠğ‡ : ğŸ­ğŸ­ ğ€ğ”ğ†ğ”ğ’ğ“ ğŸ®ğŸ¬ğŸ®ğŸ®

ğŸ’µğŸ· ğš‚ğ™»ğ™¾ğšƒ (ğšğ™¼ğŸ¹) ğŸ˜±
ğŸ’µğŸ¸ ğš‚ğ™»ğ™¾ğšƒ (ğšğ™¼ğŸ») ğŸ˜±

ğğ€ğ˜ğŒğ„ğğ“ ğ•ğˆğ€â¤µï¸â¤µï¸
âœ…ğğğ‹ğˆğğ„ ğ“ğ‘ğ€ğğ’ğ…ğ„ğ‘
âœ…ğ“ğğ”ğ‚ğ‡ ğ€ğğƒ ğ†ğ
âœ…ğ’ğ‡ğğğ„ğ„ğğ€ğ˜
âœ…ğ“ğğğ”ğ ğ‘ğŒğŸ“ (ğŸ ğ’ğ‹ğğ“)
âŒğ”ğ‚
ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

ğğğğŠ ğ’ğ‹ğğ“ ğ‚ğ‹ğˆğ‚ğŠ ğ‹ğˆğğŠ
â¤µï¸â¤µï¸â¤µï¸â¤µï¸â¤µï¸â¤µï¸
(ğ€ğƒğŒğˆğ ğŸ) 
https://wa.me/601136677311?text=LiveğŒğˆğƒğğˆğ†ğ‡ğ“rm3

(ğ€ğƒğŒğˆğ ğŸ) 
https://wa.me/601125388959?text=LiveğŒğˆğƒğğˆğ†ğ‡ğ“rm3
â¤´ï¸â¤´ï¸â¤´ï¸â¤´ï¸â¤´ï¸â¤´ï¸
ğğğğŠ ğ’ğ‹ğğ“ ğ‚ğ‹ğˆğ‚ğŠ ğ‹ğˆğğŠ
ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

ğŸ”ŠğŸ„±ğŸ„´ğŸ„½ğŸ„´ğŸ„µğŸ„¸ğŸ…ƒğŸ…‚ğŸ”Š
     ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»
ğŸ’á´›á´á´˜ ğŸ¥‡ğŸ¥ˆÉªÉ´á´ Éªá´›á´‡á´… É´á´‡xá´› êœ±á´„Ê€Éªá´
ğŸ’á´‡-á´„á´‡Ê€á´›Éªêœ°Éªá´„á´€á´›á´‡ ğŸ¥‡ğŸ¥ˆğŸ¥‰
ğŸ’á´€á´…á´ á´€É´á´„á´‡ Ê€á´á´á´
ğŸ’3Ã— ÊŸá´á´á´› 
ğŸ’á´¢á´É´á´‡ êœ±ÊœÊ€ÉªÉ´á´‹ 1.2
ğŸ’á´ á´€á´œÉ¢á´‡ ÉªÉ´êœ°á´ (á´É´) 
ğŸ’êœ±á´  & á´€á´€ (á´É´) 
ğŸ’êœ°á´€êœ±á´› Ê€á´‡êœ±á´œÊŸá´›

ğŸ”ŠğŸ…ğŸ…„ğŸ„»ğŸ„´ğŸ…‚ğŸ”Š
    ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»
âœ… á´˜á´á´˜ÊŸ êœ±2 á´˜á´ÉªÉ´á´› êœ±Êêœ±á´›á´‡á´
âœ… á´›Ê€Éªá´/êœ±Qá´œá´€á´… á´É´ÊŸÊ
âœ… êœ±êœ± Ê€á´‡êœ±á´œÊŸá´› êœ°á´Ê€ Ê™á´€á´„á´‹á´œá´˜ á´É´ÊŸÊ
âœ… á´›á´‡á´Ê™á´€á´‹ á´‹á´á´›á´€á´‹ (á´›á´€á´œÉ´á´›ÉªÉ´É¢) 
âœ… 16 - 19 êœ±ÊŸá´á´›
âŒêœ±á´ÊŸá´/á´…á´œá´ (-10)
âŒÊœá´€á´„á´‹á´‡Ê€ (á´…Q) 
âŒÉ´á´ á´‡á´á´œÊŸá´€á´›á´Ê€ (á´…Q)
âŒá´¡Ê€á´É´É¢ êœ±ÊŸá´á´› (-10)
âŒÉ´á´ Ê€á´‡êœ°á´œÉ´á´…


ğŸ‘ğ— ğ—œğ——É´ÉªÉ¢Êœá´›ğŸ‘
ğŸ•˜á´á´˜á´‡É´ Ê€á´á´á´:12.40am
ğŸš€êœ°ÊŸÊ:12.47am


 ğŸ—ºï¸ğƒğ„ğ“ğ€ğˆğ‹ ğŒğ€ğğ’ ğŸ—ºï¸
â›ºğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ­ - ğ—˜ğ—¥ğ—”ğ—¡ğ—šğ—Ÿğ—˜
ğŸŒ‹ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ® - ğ— ğ—œğ—¥ğ—”ğ— ğ—”ğ—¥
ğŸ•ï¸ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ¯ - ğ—¦ğ—”ğ—¡ğ—›ğ—¢ğ—
ğŸŒ‹ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ° - ğ— ğ—œğ—¥ğ—”ğ— ğ—”ğ—¥
â›ºğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ± - ğ—˜ğ—¥ğ—”ğ—¡ğ—šğ—Ÿğ—˜

â°ğ‚ğ‡ğ„ğ‚ğŠ ğˆğ : ğ€ğ…ğ“ğ„ğ‘ ğ–ğ–ğ‚ğƒ 
âœˆï¸ ğ…ğ‹ğ˜: 7 ğŒğˆğğ’ ğ€ğ…ğ“ğ„ğ‘ ğğğ„ğ

ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

ğŸ“¹ğŸ…‚ğŸ„²ğŸ…ğŸ„¸ğŸ„¼ ğŸ„¶ğŸ…ğŸ„¾ğŸ…„ğŸ„¿ ğŸ„¸ğŸ„½ğŸ„µğŸ„¾ğŸ“¹
                      ğ•ğŸ
https://chat.whatsapp.com/KXIRJuDuXitEJdN5PenlYp"""
pesanNight = """ğŸ“¹ğ‘ºğ‘ªğ‘¹ğ‘°ğ‘´ ğ‘³ğ‘°ğ‘½ğ‘¬ ğ‘¹ğ‘´ ğŸ¯ â€¢
ğŸ“¹ğ‘ºğ‘ªğ‘¹ğ‘°ğ‘´ ğ‘³ğ‘°ğ‘½ğ‘¬ ğ‘¹ğ‘´ ğŸ¯ â€¢


â€¼ï¸ğŸ± ğ‘ºğ‘³ğ‘¶ğ‘» ğ‘³ğ‘¬ğ‘­ğ‘»(ğ‘µğ‘°ğ‘®ğ‘¯ğ‘»)â€¼ï¸

â€¼ï¸ğŸ­ğŸ¬ ğ‘ºğ‘³ğ‘¶ğ‘» ğ‘³ğ‘¬ğ‘­ğ‘»(ğ‘´ğ‘°ğ‘«ğ‘µğ‘°ğ‘®ğ‘¯ğ‘»)â€¼ï¸


        ğŸ¥ ğŸ”¥ğ€ğƒğ€ ğ‹ğˆğ•ğ„ğŸ”¥ğŸ¥
              (ğƒğ„ğ‹ğ€ğ˜ ğŸ ğŒğˆğğˆğ“) 

à¿”âŠ°â”â”â”â”â”à¼ºâ¦à¼»â”â”â”â”â”âŠ±à¿” 
           ğğˆğ†ğ‡ğ“ & ğŒğˆğƒğğˆğ†ğ‡ğ“
               ğ‹ğˆğ•ğ„ ğ’ğ‚ğ‘ğˆğŒ ğğ˜         
                ğ‡ğ€ğ‡ğ€ ğ„ğ’ğğğ‘ğ“
à¿”âŠ°â”â”â”â”â”à¼ºâ¦à¼»â”â”â”â”â”âŠ±à¿”
       
      ğŸ˜± ğ“ğğğŸ¥‡ğŸ¥ˆğˆğğ•ğˆğ“ğ„ğƒ 
                ğğ„ğ—ğ“ ğ’ğ‚ğ‘ğˆğŒğŸ˜±

 
ğŸ¥ğŸ„»ğŸ„¸ğŸ……ğŸ„´ ğŸ„¸ğŸ„½ ğŸ„µğŸ„°ğŸ„²ğŸ„´ğŸ„±ğŸ„¾ğŸ„¾ğŸ„ºğŸ¥


ğŸ—“ğ‡ğ€ğ‘ğˆ : ğ™†ğ™ƒğ˜¼ğ™ˆğ™„ğ™
ğŸ—“ğ“ğ€ğ‘ğˆğŠğ‡ : ğŸ­ğŸ­ ğ€ğ”ğ†ğ”ğ’ğ“ ğŸ®ğŸ¬ğŸ®ğŸ®

ğŸ’µğŸ· ğš‚ğ™»ğ™¾ğšƒ (ğšğ™¼ğŸ¹) ğŸ˜±
ğŸ’µğŸ¸ ğš‚ğ™»ğ™¾ğšƒ (ğšğ™¼ğŸ») ğŸ˜±
ğŸ’µğ™½ğ™¸ğ™¶ğ™·ğšƒ & ğ™¼ğ™¸ğ™³ğ™½ğ™¸ğ™¶ğ™·ğšƒ (ğšğ™¼ğŸ») ğŸ˜±ğŸ˜±

ğğ€ğ˜ğŒğ„ğğ“ ğ•ğˆğ€â¤µï¸â¤µï¸
âœ…ğğğ‹ğˆğğ„ ğ“ğ‘ğ€ğğ’ğ…ğ„ğ‘
âœ…ğ“ğğ”ğ‚ğ‡ ğ€ğğƒ ğ†ğ
âœ…ğ’ğ‡ğğğ„ğ„ğğ€ğ˜
âœ…ğ“ğğğ”ğ ğ‘ğŒğŸ“ (ğŸ ğ’ğ‹ğğ“)
âŒğ”ğ‚
ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

ğğğğŠ ğ’ğ‹ğğ“ ğ‚ğ‹ğˆğ‚ğŠ ğ‹ğˆğğŠ
â¤µï¸â¤µï¸â¤µï¸â¤µï¸â¤µï¸â¤µï¸
(ğ€ğƒğŒğˆğ ğŸ) 
https://wa.me/601136677311?text=Liveğğˆğ†ğ‡ğ“rm3

https://wa.me/601136677311?text=LiveğŒğˆğƒğğˆğ†ğ‡ğ“rm3


(ğ€ğƒğŒğˆğ ğŸ) 
https://wa.me/601125388959?text=Liveğğˆğ†ğ‡ğ“rm3

https://wa.me/601125388959?text=LiveğŒğˆğƒğğˆğ†ğ‡ğ“rm3
â¤´ï¸â¤´ï¸â¤´ï¸â¤´ï¸â¤´ï¸â¤´ï¸
ğğğğŠ ğ’ğ‹ğğ“ ğ‚ğ‹ğˆğ‚ğŠ ğ‹ğˆğğŠ
ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

ğŸ”ŠğŸ„±ğŸ„´ğŸ„½ğŸ„´ğŸ„µğŸ„¸ğŸ…ƒğŸ…‚ğŸ”Š
     ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»
ğŸ’á´›á´á´˜ ğŸ¥‡ğŸ¥ˆÉªÉ´á´ Éªá´›á´‡á´… É´á´‡xá´› êœ±á´„Ê€Éªá´
ğŸ’á´‡-á´„á´‡Ê€á´›Éªêœ°Éªá´„á´€á´›á´‡ ğŸ¥‡ğŸ¥ˆğŸ¥‰
ğŸ’á´€á´…á´ á´€É´á´„á´‡ Ê€á´á´á´
ğŸ’3Ã— ÊŸá´á´á´› 
ğŸ’á´¢á´É´á´‡ êœ±ÊœÊ€ÉªÉ´á´‹ 1.2
ğŸ’á´ á´€á´œÉ¢á´‡ ÉªÉ´êœ°á´ (á´É´) 
ğŸ’êœ±á´  & á´€á´€ (á´É´) 
ğŸ’êœ°á´€êœ±á´› Ê€á´‡êœ±á´œÊŸá´›

ğŸ”ŠğŸ…ğŸ…„ğŸ„»ğŸ„´ğŸ…‚ğŸ”Š
    ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»
âœ… á´˜á´á´˜ÊŸ êœ±2 á´˜á´ÉªÉ´á´› êœ±Êêœ±á´›á´‡á´
âœ… á´›Ê€Éªá´/êœ±Qá´œá´€á´… á´É´ÊŸÊ
âœ… êœ±êœ± Ê€á´‡êœ±á´œÊŸá´› êœ°á´Ê€ Ê™á´€á´„á´‹á´œá´˜ á´É´ÊŸÊ
âœ… á´›á´‡á´Ê™á´€á´‹ á´‹á´á´›á´€á´‹ (á´›á´€á´œÉ´á´›ÉªÉ´É¢) 
âœ… 16 - 19 êœ±ÊŸá´á´›
âŒêœ±á´ÊŸá´/á´…á´œá´ (-10)
âŒÊœá´€á´„á´‹á´‡Ê€ (á´…Q) 
âŒÉ´á´ á´‡á´á´œÊŸá´€á´›á´Ê€ (á´…Q)
âŒá´¡Ê€á´É´É¢ êœ±ÊŸá´á´› (-10)
âŒÉ´á´ Ê€á´‡êœ°á´œÉ´á´…


ğŸŒ É´ÉªÉ¢Êœá´›ğŸŒ 
ğŸ•˜á´á´˜á´‡É´ Ê€á´á´á´: 8.50pm
ğŸš€êœ°ÊŸÊ:8.57pm

ğŸ‘ğ— ğ—œğ——É´ÉªÉ¢Êœá´›ğŸ‘
ğŸ•˜á´á´˜á´‡É´ Ê€á´á´á´:12.40am
ğŸš€êœ°ÊŸÊ:12.47am


 ğŸ—ºï¸ğƒğ„ğ“ğ€ğˆğ‹ ğŒğ€ğğ’ ğŸ—ºï¸
â›ºğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ­ - ğ—˜ğ—¥ğ—”ğ—¡ğ—šğ—Ÿğ—˜
ğŸŒ‹ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ® - ğ— ğ—œğ—¥ğ—”ğ— ğ—”ğ—¥
ğŸ•ï¸ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ¯ - ğ—¦ğ—”ğ—¡ğ—›ğ—¢ğ—
ğŸŒ‹ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ° - ğ— ğ—œğ—¥ğ—”ğ— ğ—”ğ—¥
â›ºğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğŸ± - ğ—˜ğ—¥ğ—”ğ—¡ğ—šğ—Ÿğ—˜

â°ğ‚ğ‡ğ„ğ‚ğŠ ğˆğ : ğ€ğ…ğ“ğ„ğ‘ ğ–ğ–ğ‚ğƒ 
âœˆï¸ ğ…ğ‹ğ˜: 7 ğŒğˆğğ’ ğ€ğ…ğ“ğ„ğ‘ ğğğ„ğ

ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

ğŸ“¹ğŸ…‚ğŸ„²ğŸ…ğŸ„¸ğŸ„¼ ğŸ„¶ğŸ…ğŸ„¾ğŸ…„ğŸ„¿ ğŸ„¸ğŸ„½ğŸ„µğŸ„¾ğŸ“¹
                        ğ•ğŸ 
https://chat.whatsapp.com/KXIRJuDuXitEJdN5PenlYp"""

while True:
    for group in client.iter_dialogs():
        if group.is_group:
            i+=1
            groups.append(group)
            # print(group.title, group.id)
            # send message to group
            try:
                if i==5:
                    print(Fore.LIGHTGREEN_EX+"[+] "+Fore.RED+"stoping")
                    sleep(randint(10,100))
                    i=0
                print(Fore.LIGHTGREEN_EX+"[+] "+Fore.RESET+"Sending message to "+Fore.YELLOW+ group.title)
                if text == "mid":
                    client.send_message(group.id, pesanMid)
                elif text == "night":
                    client.send_message(group.id, pesanNight)
                else:
                    print(Fore.RED+"[-] "+Fore.RESET+"error")
                sleep(1)
            except Exception as e:
                print(e)

# @client.on(events.NewMessage)
# async def handle_new_message(event):
#     if event.is_private:
#         chat = event.message.message
#         user = event.message.sender_id
#         print(user)
        # get all group 
#         if user == 1623988554: # group id
# #             print("bot detected")
#             if event.message.media:
#                 if event.message.media.photo:
#                     await event.message.forward_to(groupUsername)
#             else:
#                 await event.message.forward_to(groupUsername)
# if get new message
client.start()
client.run_until_disconnected()